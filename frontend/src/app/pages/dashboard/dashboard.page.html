<ion-header [translucent]="true" class="app-header">
  <ion-toolbar>
    <ion-title>Dashboard</ion-title>
    <ion-buttons slot="end">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="false" class="dashboard app-content">
  <div class="page page-shell">
    <div class="header-row">
      <div class="greeting">
        <div class="avatar">
          <ion-icon name="wallet"></ion-icon>
        </div>
        <div>
          <div class="eyebrow">WELCOME BACK</div>
          <div class="title">Good {{ timeOfDay }}, {{ userName }}</div>
        </div>
      </div>

      <button class="icon-btn" type="button" aria-label="Notifications">
        <ion-icon name="notifications"></ion-icon>
        <span class="dot"></span>
      </button>
    </div>

    <div class="balance-card">
      <div class="balance-label">Total Balance</div>
      <div class="balance-value">{{ totalBalance | currency:selectedCurrencyCode:'symbol':'1.2-2' }}</div>
      <div class="balance-divider"></div>
      <div class="balance-foot">
        <div class="trend">
          <ion-icon name="trending-up"></ion-icon>
          <span>+2.4% from last month</span>
        </div>
        <div class="eye">
          <ion-icon name="eye"></ion-icon>
        </div>
      </div>
    </div>

    <div class="summary-grid">
      <div class="summary-card income">
        <div class="summary-icon">
          <ion-icon name="arrow-down"></ion-icon>
        </div>
        <div>
          <div class="summary-label">Income</div>
          <div class="summary-value">{{ incomeTotal | currency:selectedCurrencyCode:'symbol':'1.2-2' }}</div>
        </div>
      </div>

      <div class="summary-card expense">
        <div class="summary-icon">
          <ion-icon name="arrow-up"></ion-icon>
        </div>
        <div>
          <div class="summary-label">Expenses</div>
          <div class="summary-value">{{ expenseTotal | currency:selectedCurrencyCode:'symbol':'1.2-2' }}</div>
        </div>
      </div>
    </div>

    <div class="section-header">
      <div class="section-title">My Budgets</div>
      <button class="text-btn" type="button">See All</button>
    </div>

    <div class="jar-grid">
      <div class="jar-card" *ngFor="let jar of jars; let i = index">
        <div class="jar-icon" [class.alt]="i % 2 === 1">
          <ion-icon [name]="i % 2 === 0 ? 'cart' : 'home'"></ion-icon>
        </div>
        <div class="jar-name">{{ jar.name }}</div>
        <div class="jar-amount">{{ jar.balance | currency:selectedCurrencyCode:'symbol':'1.0-0' }}</div>
        <div class="jar-progress">
          <span [style.width.%]="getJarProgress(jar)"></span>
        </div>
      </div>
    </div>

    <div class="section-title">Recent Transactions</div>
    <div class="transaction-list">
      <div class="transaction-card" *ngFor="let tx of recentTransactions">
        <div class="tx-icon" [class.credit]="tx.type === 'credit'" [class.debit]="tx.type === 'debit'">
          <ion-icon [name]="tx.icon"></ion-icon>
        </div>
        <div class="tx-meta">
          <div class="tx-title">{{ tx.title }}</div>
          <div class="tx-time">{{ tx.time }}</div>
        </div>
        <div class="tx-amount" [class.credit]="tx.type === 'credit'" [class.debit]="tx.type === 'debit'">
          {{ tx.amount | currency:selectedCurrencyCode:'symbol':'1.2-2' }}
        </div>
      </div>
    </div>
  </div>

</ion-content>
